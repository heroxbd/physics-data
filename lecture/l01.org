* 序论
这门课叫“实验物理的大数据方法”。因为一些灵活的考虑，所以这门课分成了两个部分，一部分是《实验物理的大数据方法（一）》，一部分是《实验物理的大数据方法（二）》。物理系的同学要同时选（一）和（二）。工物系的同学选（一），（二）任选。

课程是算GPA的。

课程的标题在选择的时候，也经过了一番波折，考虑了很久才定下来。课程也没有太多的参考。纵观全世界去年只有伯克利开过一个类似的课程。所以说，这个课程里边可以参考的现成的课程比较少。因此，我希望同学们都能参与到教学建设的环节中来。比如，你在上课的时候哪个地方感觉不懂，或者是感觉讲的太慢，或者是讲的太快，肯定不是你的问题而是我的问题。大家一定要踊跃地提出你的意见，因为上课是为同学们服务的。我的目标是让同学们在暑假小学期能够尽可能学到更多的知识，掌握一些新的技能。

** 教师
首先我来自我介绍，我是基科2005级，2009年从清华毕业。之后9年时间我都在日本的神冈地下实验室，主要从事粒子物理实验工作，包括中微子和暗物质相关的实验。2018年，我回到了母校，到了工程物理系近代物理研究所。现在，我的主要工作是在四川锦屏的地下实验室来筹划、设计和建造我们国家的中微子实验。我参与国际合作研究，之前在日本的合作也在继续进行，包括中微子和暗物质的实验，我们国家的下一代的江门中微子实验也在其中。如果同学们对粒子物理和中微子以及这个地下实验室感兴趣，课下也可以和我一起讨论。

我有个爱好，在本科的时候属于业余爱好，现在属于半专业的爱好。它包括大数据分析，高性能计算，还有服务器的运营、维护、开发。作为爱好，我的水平不高，是业余级别。在课程中我会尽量的把我目前为止的毕生所学表达出来。如果表达的不好，欢迎同学们提意见。

** 实验物理
这门课叫实验物理的大数据方法。要搞清楚课程的内容，需要明确什么是实验物理。实验物理数理大类的同学可能在大一一入学就都知道：理论物理学家一般提出模型，从他的数学或者哲学角度出发思考，提出对大自然的模型。这个模型或者理论出来之后，实验物理学家就会在自然界中寻找这些模型的线索，即预测的现象。其中最重要的是可证伪性：模型是否能够用实验数据证伪。实验物理去采集数据，验证这些物理规律。

有一个说法，实验物理学家是非常费电的。如果大家忘了实验物理学家到底是什么，就看他这个耗电量很大的人基本上都是实验物理学家。比如，欧洲核子中心一年的耗电量是太瓦时量级。作为对比，北京的二环以内包括崇文宣武，人口200多万，大概只是他的10倍。一个实验室人口是千人量级，它的耗电量相当于200万人在一个城市里面的耗电量。实验物理本身要观察物理现象。对控制变量来改变物理现象发生的环境，一般我们把它叫做狭义的实验，比如我们平时说的实验室。对不能控制条件的实验，我们把它叫做观测，比如天文观测中造望远镜。严格上来讲，高能宇宙线的实验或者射电的实验都属于观测。实验物理要从取得的数据出发来进行统计推断，用统计学的知识来证伪物理规律假说。这是整个物理学科发展的规律。

** 大数据

“大”是相对的，所有你用一台计算机处理不完的数据，就叫做“大数据”。20年前的计算机处理不完的数据，现在或许可以处理了。可见“大数据”到底多“大”是“大”，一个相对的概念。在课程中，目前条件有限，给大家的数据不会大到一个一台电脑处理不完的程度。但是我们讲授的方法可以推广到非常大的计算规模。希望同学们在做练习和上课的时候能体会其中的方法。大数据作为流行语是一个商业的概念，目前人人都在讲，但是未必人人都知道。

大数据与大型的物理实验联系紧密。天体物理、等离子体物理、粒子物理的大型实验都要求非常大的计算量。探索极端环境下物理系统的行为，是日常生活中不易探测到的。它有很多噪音，即使应用各种技术压低掉噪音，也还会有残留。只有采集很多数据进行分析，才能找出那亿万分之一的信号。大型的物理装置产生的数据都是海量的，我国的FAST天眼望远镜，每年要产生 $10^15$ 字节的数据。如何把这些数据转化成说脉冲星搜索结果这样的物理学结论，就需要应用大数据方法。

从历史角度，“大数据”还没有在商业流行起来之前，实验物理学就已经每时每刻地应对大数据的问题。CERN在90年代，给出了一份详细的报告，决策用大型机还是用民用级 Intel PC机来进行科学计算。这个报告经过长时间的论证和争论，最后CERN决定在 LHC (Large Hadron Collider 大型强子对撞机) 上用 Intel 的民用计算机组成集群，对 LHC 的数据进行计算。2012年Higgs粒子的发现也都是在民用级计算机集群上完成的。这是个人电脑及硬件集群成为科学计算主流的标志。当今，超级计算机国际排行榜上，大家都开始使用集群来达到世界顶级的计算能力。所以说，在大数据或者高性能计算发展的历程中，实验物理起到了非常核心的推动作用。

近年来，使用反了过来。“大数据”在工业界流行，大家把数据科学方法用在了各种领域，解决了各种问题n，获得了令人非常振奋的结果。它们又与理论计算机相结合，产生了许多新方法处理数据。比如，深度神经网络，商业概念叫“深度学习”，又反过来应用到实验物理，使我们对世界的认识又有了一个新的进步。

** 课程目标
本课程以实验物理为出发点，学习大数据方法的基础知识。这门课目标让同学们达成三点目标：

- 科学精神 :: 大家已经做过基础物理实验，也处理过实验数据，要理解数据处理中的科学精神。
- 自学能力 :: 从一开始养成良好的科研习惯，而且掌握典型的科学计算工具，并且能够通自学上手新工具。
- 使用工具 :: 工具有各自的适用范围，不同的工作场景适合使用不同的工具。针对问题和任务来选择合适的工具。

** 课程计划

- 第一周 :: 版本控制Git的入门，Python的入门；
- 第二周 :: Python 科学计算，可视化；
- 第三周 :: 命令行工具；
- 第四周 :: 高级工具。

** 数据分析指导原则

数据分析指导原则对实验物理乃至其他实证性科学研究适用。这几个原则会贯穿始终。

“复现”原则。无论做什么样的研究，科研成果一定要能够被同行重复出来。不能我在这里测量精细结构常数是1/137，误差很小，你在上海测得精细结构常数是1/141。不仅需要在实验条件下可以重复，而且需要实验结果以人类语言，比如论文、报告，还要以计算机语言表达，计算程序需要公开。这样他人才可以重复你的结果。这是科学研究的最基本的精神，它和可证伪性伴随。一个理论不能正着说和反着说都对，这就不具备可证伪性了。“复现”与“可证伪”是区分科学与伪科学的标志。今后大家如果在媒体上看到谁有了突破，你要先问两个问题：“他所验证的结论是可证伪的吗？他的结果可以被他人重复吗？”

“透明”原则。在处理数据时，往往需要经历多步，无法一蹴而就。数据分析的每一步中间结果都应由人类理解可以被直接阅读。否则如果我们不知道它是对是错，到最后一步才知道它错，就非常难以找到错误原因。

“一次”原则，或“一次且仅一次”原则。不论写文章，还是写程序，禁止进行复制粘贴操作。在需要对一段程序进行修改，完成另一个内容时，不要把大块的程序切下来。这样做叫“自我重复”，它的坏处在于当你发现这部分需要进行修改时，你已经复制到其他地方的程序不会跟着被自动修改。如果你忘记了已经复制了9处，却一共改了8处，那么当这个项目变得很大时，就非常难找到错误原因。一定是有意义的信息都只放在统一的地方。

“最佳工具”原则。尽量使用高级语言。如果使用一个工具很得心应手，并且它非常适合要做的事，就一定要使用它。即使这个工具和别人的不一样，我们要想办法把它和别人的联合起来。如果能做到这一点，我们就可以在面对任何任务时都挑选比较合适的工具。该用锤子的时候就用锤子，该用电锯的时候就用电锯。这样才能节省自己的时间，也能够最有效地实践上面的三个原则。

这门课会以 Python 为中心介绍数据处理。但是，Python 未必永远都是最好的工具。所以我们这门课
不叫 “Python 数据处理与科学计算”，虽然现在几乎如此。但是不保证今后还用 Python 进行教学。

** 课程评价

平时作业占70%，以 Github 形式组织。平时作业以程序自动测试，还有20%是“白盒”测试。助教与我会读作业程序，看 Git commit 是否符合规则，是否养成良好的习惯。

大作业占30%，取材于实验物理的不同场景，覆盖物理学的方方面面。大作业也可以由同学自行提出，非物理的学科中数据处理类的任务都可以做为大作业。大作业分两阶段，对应前两周和后两周。只选《实验物理的大数据方法（1）》两学分的同学，要完成前半部分。同时选了《实验物理的大数据方法（2）》总共4学分的同学，要完成所有的大作业。大作业有三个主题：

粒子物理实验，取材自 Ghost Hunter 中微子数据分析排位赛，竞赛结果可以课赛结合的形式作为大作业。也可以在竞赛的基础上继续提高。未参加过竞赛的同学，也可在网站上看到物理背景。

天体物理观测。

凝聚态物理实验测量。

大家的物理课的进度都差不多，但是编程基础差异较大。希望基础较好的同学多帮助周围的基础薄弱的同学。

如果你的精力太旺盛了，上课太简单了，可以尝试多做几个大作业。

自定义大作业的要点是：问题描述，学科背景，数据输入输出，评分标准。可以由同学自己提出。

** 参考资料
Think Python，Python 科学计算讲义，在命令行进行数据处理，大蓝书。

The art of Unix programming：自由软件界的教父级人物，以道家思想剖析了 Unix 类系统中程序设计的优美和永恒性。到底是什么样的，它里面给出了很多切实的建议。我们这门课的透明性原则就是从这本书来的。

Learn X in Y minutes，你可以看到很多例子，改写成自己的例子，很适合初学者。

** Python

课程围绕 Python 展开，但是又不是 Python 程序设计。课程带领大家循序渐进地做一些 Python 练习。Python 是一门解释型语言，相对于编译型语言（C/C++）更容易调试。非计算机专业的同学有这样一门语言比较容易，日常工作比较舒服。Python 语法简明，很多是英文单词，与伪代码神似，即使外行也比较容易读懂或猜到意思。因此 Python 的书写效率比较高，易于快速的写出不那么差的程序。如果你要进一步优化，可能要花很多时间。但是对于大部分的工作，即使是科学的硬核工作，写出一个差不多的程序就已经够用了。计算机性能的发展实在是太快了，是人类跟不上的。5年前还要进行不断优化，5年后
一个差不多的程序可能胜任。Python 正好适应这样的趋势。

Python 可以直接调用多语言库。在学习物理，特别是计算物理时，会碰到 Fortran 或 C 程序。如果做统计分析，可能会用到 R 程序。如果大家组成一个团队，有的同学喜欢这个语言，有的同学喜欢另一个语言。Pyhon 可以作为各语言之间传唤的媒介，或者叫“胶水语言”，即把各种程序粘合在一起。Python 可调用很多程序的库，即使这个库是其他程序写的，也可以用 Python 程序调用它的功能。这非常易于
和已经有的工具进行组合，而且可以有效地防止团队协作中的偏好冲突，还大大丰富了 Python 生态的功能。


这有一个例子
比如说刚才我说 Python 的程序
它可能是差不多的程序
但可能不是优化的最好的
那如果真的
我们在实际的工作中
遇到了一个不优化不行的地方
可能用只用 Python 
已经使出了浑身解数
还是优化不了
那么我们可以把
这个部分替换成 Fortran
替换成 C 的
那么也可以
进一步优化
这个程序的运行效率
所以说一般来说
我们的策略是这样
面对一个任务
我们先写出了一个正确的程序
可以运行的
然后我们去看
到底哪个地方
占用的时间最多
那么对于那个占用时间最多的部分
进行有针对性的优化
如果优化到了极致
还是不行的话
那么就使用其他的语言
来进行替代
所以说
这是一个
衔接地非常
细腻比较顺滑的一个过程
它可以这个渐进地
进行优化
而不是说
要么就行
要么就不行
这个不行
就会卡死的这种状态
所以说这对团队协作
有些时候这些细节
就决定了这个团队协作的成败
所以它符合 是我们的最佳工具
此外呢
比如说相对于 Matlab
或者是相对于其他的
专门的科学计算的语言
Python 它又是一个通用的语言
而它的功能
不局限于这个科学计算
和科学研究
它其实在我们生活中的
方方面面
都可以用的
它的这个语言的库
也有很多
我们其实可以完成非常多
其他的功能
所以由于传统这些优点
所以它最近些年来
在这个科学计算的领域
得到了非常广泛的应用
那么我们嗯将要考虑的
这个第二个环境呢
叫做 POSIX 环境
POSIX 环境可能
对于同学们来说
比 Python 会更加陌生一些
它是 “Portable Operating System Interface” 的缩写
它其实是关于计算机操作系统的
国际标准
那么什么是操作系统
操作系统
就是比如说我们
操作系统
这种平时在计算机上运行的这个
基本系统
它是在进行硬件
和我们这个人类之间
建立的这个这个桥梁
这个操作系统呢
对 它是有国际标准的
那么在这样的国际标准下呢
如果我们写了一个
科学计算的一个程序
我们有了一个科学的成果
我们如果在这个环境下
可以实现这个计算的
那么全世界各地的其他人
他们不管用什么操作系统
如果是有这样的环境的话
他们都可以比较
顺利的复现出我们的结果
但是如果说我们这个操作系统
只能是在
某一个
编译器
某一个版本下
才能得出正确的结果
只要换了一个地方
换了一台电脑
是得不到正确的结果
这就
不是好的
科学研究
所以说呢
在我们学习的过程中呢
我们会尽量的使用
这样一个国际通用的环境
让大家在这样通用的环境中
学习这个环境中
比较好用的工具
来建立一个工具箱
那满足这个标准操作系统呢
一方面是这个 GNU/Linux
然后一方面呢
是这个苹果的 mac OS 满足的标准
或者是其他的类 Unix 系统
那么 Microsoft 微软的这个
windows 呢
它本身其实是不满足这个标准
所以说
我们会知道
可能有些程序
在 Windows 10 上的程序
到了Windows xp
或者是 Windows 7
它就不能运行了
其中某些原因
是因为它没有一个标准
那么但是呢
我们可以通过使用以下的扩展
来使 Windows 支持这个
POSIX 环境
比如说 Windows Subsystem for Linnux
或者是通过虚拟机
安装一个 Linux 操作系统
这个我们会在
下节课仔细地
带领大家去做
大概在我们如果需要这个环境呢
在座的有哪些同学
已经在使用这个 GNU/Linux 系统
这些同学你们
这门课的准备的工具
应该都已经齐了
所以到了下节课
请你帮助一下周围的同学
好吧
然后那么
还有哪些同学
是这个 mac 的用户
噢大概有几个 mac 的用户
然后
那个陈嘉杰同学
也是 mac 用户
或者你如果遇到困难
可以
找陈嘉杰同学啊
然后那剩下同学们
都是 windows 的用户
我们一会儿
会先尝试安装这个 WSL 
然后第二点
第二点我们先去掉
接着尝试安装这个虚拟机
先把这门课
所要的程序环境
建立起来
好吧
我们先下课休息5分钟时间
然后下节课
我们开始实战
好
谢谢大家
如果大家是苹果或者 Ubuntu 系统的话
就不用跟着这个操作了啊
首先我们稍微提一下这个
Windows 下的 Linux 子系统 到底是怎么一回事
然后就是你必须是一个 Win10 的系统
如果没有的话
你可以采取其他的虚拟化的方式
比如说是 VirtualBox 之后会讲到
然后或者是你可以装一个 Linux 双系统
然后它其实就是一个
可以在 Windows 上
直接运行 Linux 命令的一个工具
那么这个 Linux 子系统
在今年6月份左右
推出了第二版
它采用了新的系统架构
它现在是可以是说
真的 Linux 内核
如果你现在必须是你的系统
需要升级到这个版本的话
大家可以
按照这个操作去查看一下
就在cmd下输入这个 msinfo 
我现在先教大家几个命令
大家电脑上应该有一个 Win键
按一下 Win+R 键
大家按一下 Win+R 键
会出现下面这个界面啊
有没有看到
就是有一个运行的这个界面
然后输入 cmd
这个就是运行的一个工具
输入 cmd 然后按回车键
大家有没有跟上
按下回车键之后
我们会进入 Windows 提供
的一个命令行工具
在下面我们就可以输入
刚才我们提到的这个命令 msinfo
后面应该加上 32
然后大家会看到一个微软提供的一个
查看它系统信息的一个界面
我们也看到
我现在的版本
是 Win8 的8.1
然后我的版本号是900
显然我的电脑
无法安装这个 WSL
大家确认一下自己这个
刚才你的输的是什么
msinfo 
microsoft 的 info
这一步就是带大家熟悉一下
Cmd的操作
如果大家的版本号
是这个版本号
或者这个版本号
以上的话
大家就可以使用这个 
Linux 子系统的第二个版本
不过我觉得
如果大家真的是
这个版本号的话
应该不需要再
就在这里
大家输入
刚才命令会弹出这个窗口的
然后你可以看到
你自己的系统版本
以及最高的系统版本号
这个不是重要
这个不重要不重要
噢
这个不重要
我们就先尝试使用一下
Windows 下的命令
然后我们下面就具体讲一下
到底如何去安装呢
其实安装在 win10 下安装
Linux 子系统非常简单
你只需要 点击x3
首先第一步
你需要启动windows的
Windows 的功能
Windows 子系统的 Linux
下面你需要
用命令行
我们下面再打开这个命令行
然后你在里面输入 “control”
打开你的控制面板
你也可以通过其他的方式打开
可以点击打开
然后你选择那个程序
下面有程序以后呢
前面有这里会有一个
管理员这个标志
然后你下面写的是
启用或关闭 Windows 功能
然后点击它
大家现在有没有跟上
然后你会在下面发现一个
我就发现一个这个
这一行字 适用于 Linux 的 windows 子系统
然后把勾选上
好勾选之后完成之后
会提示你需要重启
大家就重启一下
反正是月初嘛
反正大家流量也大
有没有问题
这几部分大家都有点击
控制面板的打开
大家也可以通过 GUI 的方式去打开
如果大家已经重启完了之后
我们就可以进入第二步了
不着急不着急
现在大家在电脑有没有重启过
如果重启完成之后
我们就做第二次点击
首先你找到那个
Windows 下的应用商店
那个 Windows 的应用商店
不小心被我卸了
然后我就再也装不上去了
我该怎么办
重装系统
这个应该是可以下载
我们之后再解决这个是特例
然后你就先看一下
后面的操作
正常的程序
那现在先去打开你的应用商店
如果你找不到的话
你可以在你的 win10 下面一个放大
你可以使用它的搜索功能
输入应用商店
即可
把你的应用商店打开
打开应用商店之后
大家可以输入 WSL
或者是 Linux
大家有没有搜索完成
搜索完了之后
会出现这种在 Windows 下运行的 Linux 子系统
就在应用商店里面
有个搜索啊搜索
你可以输入 Linux
首先你需要打开你的应用商店
然后在搜索里面
最后你们到这一步的下面的
我看有的同学
应该已经打开了这个界面
然后下面会提供不少
Linux 发行版
如果你们没有什么特别爱好
比如说什么 Hack 之类的兴趣
就可以选 Ubuntu
或者左边的这个操作系统
目前我这个界面上
它上面只有 Ubuntu
还有这个其他的
不过大家的
界面上应该有很多吧
如果没有特别爱好
就选择左边的这个 Ubuntu
然后大家点击之后即可安装
上面有安装操作选项
大家就可以简单点击鼠标即可
大家如果没有特别爱好的话
就选择 Ubuntu
上面写的 Ubuntu 的话
就是左边的第一个
你可以看到上面
有其他的上面写的都有
英文
你自己看一下
就这个就这个英文单词
目前推荐这两个
一个是 Debian 一个是 Ubuntu
安装可能需要一点时间
大家可以耐心等待一下
这一步有没有大家会有注册的
因为我知道有些人提供了
windows 更新的话
在这里不下载的时候不会出错
啊没有出错的
没有出错在位置啊
就是在应用商店
这个 Download Linux 子系统
大家有没有出错的
没有卡住的同学
我卡住了
大家在那个应用商店里面
输入 Linux 系统
然后搜索
刚才在下面的同学告诉我说
应用商店
应用商店的存储位置
大家不要随便改
可能也应该
也没有几个人去改吧
现在已经应该有一部分同学已经
安装好
已经到了这个系统
然后启动它下面一步操作
就是很简单
就初始化
你们需要点击一下
这个呃 Ubuntu
或者是左边的图标
然后去初始化你的用户
名字及密码
如果你把这一步做完了之后
整个过程基本都已经完成了
刚才发现同学们
设 passwd 时候遇到几个迷惑
这一点是当它提示你
输入 passwd 的时候
当你看到这个提示的时候
然后你不管输入什么字母
它都没有反应它是隐藏起来的
然后这个可能大家都比较迷惑啊
实际上是它为了安全起见
比如说后面有一个人偷看你
输入 passwd 的时候
如果有很多 * 的话
那么后面那个人就能记住
你 passwd 的有多少位
这样对于他破解 passwd 的时候
他的组合数就变少了
所以它出于这种考虑
你不管输什么的时候
他都没有反应
然后为了保险起见
但是我们在这个界面下
也不知道到底输没输进去
所以说它才会让你在这里重新再写一遍
必须是在两次
输得完全一样的这个密码才能设对
有哪些同学还卡在应用商店里
有哪些同学还卡在这个设置密码里面
刚才我发现大家有的密码是
不一致的
再可以进入系统
现在如果大家已经进入了这个
那个界面之后
我们操作几个
比较好的 Linux 命令
然后去修改一下
软件源
这个要改吗
非常麻烦
是比较麻烦你要改一下
还有同学喊的密码是什么
大家注意一下这个
POSIX 的习惯哈
有同学输两次密码不一样的时候
会出现这样一个提示
就是说你的密码可以视察
然后会出现这个
你是重新输一遍密码
还是不重新输
那么如果你先打了回车的话
看到遇到这个 Y 小写的大写
意味着你如果默认情况下
就会默认你输入
所以有些同学直接在这里输了
拿了一个回车的话
那么系统还默认你输入了
就是你不想设置密码
这个时候密码就可以脱掉
所以当你看到这个提示的时候
在这里 在输入回车之前的时候
那现在装完了
我现在已经把这个PPT上传上去了 
如果大家有一部分同学没有跟上来的话
可以参考
我们先来讲下面一部分
修改很多软件源
这一步你其实是可以不做的
但是如果不去修改你的软件源
你在做下载操作
就是从你的包管理持续下载的话
你的速度会异常缓慢
几乎就是几个数量级的差别
我们现在就讲一下
怎么去修改一下这个东西
大家如果跟得上的话
我们就先做这个操作
大家现在应该已经看到一个
现在大家如果安装完成之后
应该看到一个类似我这个界面
的命令行这边
然后现在就可以先做一些基本的命令行操作
list 操作
这个操作会列出下面的一些
基本的文件
但是我们现在就是要去修改
某一个
文件夹下的
一个文件
我们现在先去到它的目录下
如果你现在
是 Ubuntu 或者 Debian 的话
我们现在注意到一个
我们大家现在输入第一个
这个命令
然后进入到你这个
配置文件的所在目录之后
然后大家输入
下面这个命令把你的文件给备份一下
需要修改下
这个文件就行了
没有权限没有的
噢对对对
我忘记了一个问题
大家可以输入 sudo
sudo 是
大家在这个命令前面带上去
大家现在有什么问题
大家在输入命令的时候
几个 cd 后面是有空格的
这个 cd 以及 cp 都是命令集中的内置命令
大家不要把后面的东西都连在一起了
大家在做完这个操作命令之后
会把你之前的那个 sources.list
给改名 文件名给改写成新的文件名
也就是大家平常在 Windows 下做的
我出错了 cp的话
应该是 copy
是从这儿复制操作
做完这个
就相当于复制了一套文件
然后大家在下面
就把这个文件
用给打开
就照抄这个就行了
这个要我有问题 改完了
都拷过了
这一步已经做到了吗
这一步做完了之后
我们就可以看到这个
这个ppt
已经上传到网络学堂了
所以大家可以
直接下载下来
你现在已经把这个命令都输完了是吗
好OK
如果你输完之后
你会出现这样的界面
里面是一些的地址
然后现在我们要去修改它
现在大家完成
这这三步操作的有多少
那个出来的就是一些颜色
特别奇怪的
对
那都是什么
语法高亮
是我这个差不多
但是我这个是
已经改变了自己的一个操作系统
如果大家现在已经做完这个操作
现在就根据自己的操作系统
去选择你所需要修改的部分
因为大家之前装的
应该是不太一样的
有可能选择了 Debian
有可能选择 Ubuntu
或者有选择什么 Kali 的
这个地方我们就需要
按照不同的系统去修改它们
我这里写的是
只针对 Ubuntu
18.04的
这个修改方案
然后我们如果去看其他的修改方法
我们需要登录一下 tuna 的那个官网
修改软件源的话
会使大家的下载速度
提高几个数量级
我们现在去登陆 tuna 的官网
大家可以输入 tuna.tsinghua.edu.cn
在你的浏览器里面输入
这个协会之后
老师可能会介绍一下
然后我们现在点开一下开源镜像站
点击这个地方
然后我们在下面找到使用帮助
然后在左侧的侧栏
会有不同的系统
比如说 Ubntu 
以及 Debian 之类的
我们现在以 Ubuntu 为例
这个地方你可以选择版本
然后就把这样的粘贴复制进去
覆盖你之前的那个
用 vim 编辑打开的 sources.list 内容
刚才用了vim编辑器 还是太专业了
所以那个大家可以先我们换一个
稍微简单一点的编辑器
大家可以在这个
输入 “q!” 把这个文件给退出来
把这个文件退出来
大家可以先按几下
Esc键退出编辑模式
刚才如果知道这种情况里面
然后好像
好像按什么东西比较奇怪
这个东西比较奇怪
我们可以在
我们摁一下 “:”
然后 “q!”
可以退出这种模式
然后我们的目标是什么样的呢
刚才我们拿到了一个文件
这个文件里面有一部分那个
有一部分字符串
是这样一个地址
然后我们要把它换成
这个清华的地址
mirrors.tuna.tsinghua.edu.cn
我们的目标是这样
我们一会儿可以
各种方法都可以替换
刚才的 vim 是一种方法
我所以带着大家用
另一个编辑器来替换
也可以直接在这个命令行里替换
咱们先那个下课休息一会吧
然后如果有同学
想马上知道答案的话
可以来
课下能讨论一下
然后我们3:20继续上课
刚才课下的时候
还是看到有很多同学
卡在了更早的位置
然后希望你如果遇到了困难
然后及时地提出
因为我们本来也是假期
可能
这个进展比较快的同学
进展比较快的同学
他们有很多事情可以干
是吧
所以说大家不要害羞
就是如果有那个
比较早的
就卡住的同学
一定要马上提出来
因为我们每一步
都是依赖前一步的
然后如果没有到的话
可能是跟不上
然后现在还有同学
没有到这一步了吗
我们先来一轮
然后如果卡在前一步的同学
大家也不用着急
一会儿我们还会
我还会今天课下
再来一轮
我们要做的目标是什么呢
就是我们刚刚在 WSL 里边
安装了 Ubuntu
这 Ubuntu 它默认
它默认系统的更新啊
下载啊
或者安装啊
都是从这个网站下的
这网站一般都是至少是校外
有的时候会走到国外去
这样的话
同学去更新系统
就要花很多的这个国际的流量
那么我们的目标呢
是在这个目录下的这个 sources.list 的这个文件里面
把这个字符串替换成这个
字符串
那么这种方法呢
一共有很多很多
我给大家讲一个
编辑器的方法
我们打 “sudo”
sudo 是
取得最高权限
nano 是这个编辑器的名字
nano sources.list
这里面已经是这样啊
然后我们点 Ctrl-W 
我来把这个每步都写上
这个字符代表 Ctrl
Ctrl-W 是搜索
我们可以在这里边
这个地方
看到有这个搜索来
我们就把这个字符串打进去
注意现在都要敲回车
Ctrl-W然后输
输入这个字符串
然后这个时候呢
再按 Ctrl-R
Ctrl-R
我们看到这个 search 后面
有跟 replace
它是查找替换的意思
当它出现了 search (to replace)
这个提示之后呢
我们再按回车
这时候会出现一个 replace with
replace 这个机制
这时候我们输入这个 tuna 的
不是很满意
tuna 的
url 地址
mirrors.tuna.tsinghua.edu.cn
然后回车
我这里面
因为之前没有这个字符串
我先把这个字符串先换过去
我先做一个反向操作
给大家展示一下
按照这4个步骤
我们再重新做一遍
首先是 Ctrl-W 
然后输入我们要替换的字符串
就是这个
这个时候按回车
就是说我们是否替换
然后我们按
下面这个提示
Ctrl-A
大写 A
就可以把这些全部的替换
替换完之后
我们按 Ctrl-O 来把它保存
我们看到这个提示说
已经写入了4行文件了
然后我们看现在这个 Exit 就是 Ctrl-X
怎么验证它是否成功
我们 sudo 可以 update
这一步替换不成功的同学举手
同学们没替换成功的
按照这几个步骤
替换字符串 大家不是太适应啊
但是这是我们在很多处理数据的
信息中比较常用的操作
这个数据很大
但是跟这个数据相关
有一些
有一些说明
这个数据的文本里面
这个时候查找这块还是
咱们现在用的
是用一个编辑器来
在这里面呢
但是虽然它比较朴素
那么现在这个因为都做完了
后4那个IP
那个没做完的同学举手
失败的问题
没做完那个
做完的同学可以
做一些其他的事情
已经替换成功的同学
看一下你旁边的同学
有没有替换成功
然后帮助一下周围的同学
