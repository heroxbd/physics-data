这门课叫“实验物理的大数据方法”。因为一些灵活的考虑，所以这门课分成了两个部分，一部分是《实验物理的大数据方法（一）》，一部分是《实验物理的大数据方法（二）》。物理系的同学要同时选（一）和（二）。工物系的同学选（一），（二）任选。

课程是算GPA的。

课程的标题在选择的时候，也经过了一番波折，考虑了很久才定下来。课程也没有太多的参考。纵观全世界去年只有伯克利开过一个类似的课程。所以说，这个课程里边可以参考的现成的课程比较少。因此，我希望同学们都能参与到教学建设的环节中来。比如，你在上课的时候哪个地方感觉不懂，或者是感觉讲的太慢，或者是讲的太快，肯定不是你的问题而是我的问题。大家一定要踊跃地提出你的意见，因为上课是为同学们服务的。我的目标是让同学们在暑假小学期能够尽可能学到更多的知识，掌握一些新的技能。

首先我来自我介绍，我是基科2005级，2009年从清华毕业。之后9年时间我都在日本的神冈地下实验室，主要从事粒子物理实验工作，包括中微子和暗物质相关的实验。2018年，我回到了母校，到了工程物理系近代物理研究所。现在，我的主要工作是在四川锦屏的地下实验室来筹划、设计和建造我们国家的中微子实验。我参与国际合作研究，之前在日本的合作也在继续进行，包括中微子和暗物质的实验，我们国家的下一代的江门中微子实验也在其中。如果同学们对粒子物理和中微子以及这个地下实验室感兴趣，课下也可以和我一起讨论。

我有个爱好，在本科的时候属于业余爱好，现在属于半专业的爱好。它包括大数据分析，高性能计算，还有服务器的运营、维护、开发。作为爱好，我的水平不高，是业余级别。在课程中我会尽量的把我目前为止的毕生所学表达出来。如果表达的不好，欢迎同学们提意见。

这门课叫实验物理的大数据方法。要搞清楚课程的内容，需要明确什么是实验物理。实验物理数理大类的同学可能在大一一入学就都知道：理论物理学家一般提出模型，从他的数学或者哲学角度出发思考，提出对大自然的模型。这个模型或者理论出来之后，实验物理学家就会在自然界中寻找这些模型的线索，即预测的现象。其中最重要的是可证伪性：模型是否能够用实验数据证伪。实验物理去采集数据，验证这些物理规律。

有一个说法，实验物理学家是非常费电的。如果大家忘了实验物理学家到底是什么，就看他这个耗电量很大的人基本上都是实验物理学家。比如，欧洲核子中心一年的耗电量是太瓦时量级。作为对比，北京的二环以内包括崇文宣武，人口200多万，大概只是他的10倍。一个实验室人口是千人量级，它的耗电量相当于200万人在一个城市里面的耗电量。实验物理本身要观察物理现象。对控制变量来改变物理现象发生的环境，一般我们把它叫做狭义的实验，比如我们平时说的实验室。对不能控制条件的实验，我们把它叫做观测，比如天文观测中造望远镜。严格上来讲，高能宇宙线的实验或者射电的实验都属于观测。实验物理要从取得的数据出发来进行统计推断，用统计学的知识来证伪物理规律假说。这是整个物理学科发展的规律。

“大”是相对的，所有你用一台计算机处理不完的数据，就叫做“大数据”。20年前的计算机处理不完的数据，现在或许可以处理了。可见“大数据”到底多“大”是“大”，一个相对的概念。在课程中，目前条件有限，给大家的数据不会大到一个一台电脑处理不完的程度。但是我们讲授的方法可以推广到非常大的计算规模。希望同学们在做练习和上课的时候能体会其中的方法。大数据作为流行语是一个商业的概念，目前人人都在讲，但是未必人人都知道。

大数据与大型的物理实验联系紧密。比如，天体物理、等离子体物理、粒子物理的大型实验都要求非常大的计算量。我们在探索的极端环境下物理系统的行为，是日常生活中不易探测到的。这说明它有很多噪音，即使应用各种技术压低掉噪音，也还会有残留。只有采集很多数据
进行分析，才能找出那亿万分之一的信号。大型的物理装置产生的数据都是海量的。我们国家最新建成的
FAST天眼望远镜，他每年要产生10的15次方字节的数据。

那么这些数据呢
如何把这些数据转化成
对于比如说脉冲星啊
这个物理学的结论
就需要应用大数据方法
所以说呢从历史上来讲
这个大数据
还没有在商业中
流行起来之前
那么物理学家就已经开始啊
每时每刻的应对这种大数据的问题
比如说这个CERN
在90年代起
当时有一个非常长的一个报告
当时的决策是说到底是用大型机
还是用这个民用级的
因特尔的PC机
来进行科学计算的时候
经过很长时间的论证和争论
最后这个CERN决定在LHC上
用这个因特尔的民用计算机组成集群
来对这个大型粒子对撞机进行计算
包括2012年的
Higgs粒子的发现
也都是在这种
民用级的计算机上完成的
所以说这是个人电脑及硬件集群
成为科学计算主流的标志
而当今呢
超级计算机的这个国际排行榜上
大家都开始用了这种集群
来达到这个世界顶级的
计算率
所以说呢
在这个大数据
或者高性能计算
发展的历程中呢
这个实验物理也起到了
非常深远的作用
那么近年来
其实又反过来了
因为这个大数据在
工业界非常流行
大家把这个数据科学
用在了各种领域
解决了各种问题
获得了令人非常振奋的结果
那么在这个过程中呢
又与这个理论计算机相结合
那么产生了非常多的
新的方法来处理数据
比如说
最近的这个深度神经网络
或者是说在商业中叫深度学习
那么这一类新的方法呢
又反过来应用到实验物理
使得我们对这个世界的认识
又有了一个新的进步
好
我们来介绍一下
这门课的内容
这门课呢
就是以这个实验物理为出发点
以这个主题的前提下
我们学习这个大数据方法的
一些基础知识
那么我在设计这门课呢
我想的是希望同学们能够
有达到这个三点的目标
一个是希望同学们能够围绕数据
因为大家已经做过
这个基础物理实验了
也处理过实验数据了
那么再进一步呢
理解这个数据处理中的科学精神
希望大家能够从一开始
就养成良好的科研习惯
一会我会展开来讲
而且呢
掌握典型的
科学计算的工具
比如说啊或者说非严格意义上的
科学计算工具
而且呢
在学习了
在我带领下
学习一轮的这个之后呢
还能够获得自学能力
第三点呢
也是我一个很大的一个希望
就是包括我
因为我原来也是
从基科班出来
那么周围的很多同学呢
一般来说
从大一学完了程序设计基础之后
就学会了使用C++
那么很容易
今后不论做什么事情
都使用C++
那么我觉得这些工具呢
都是有各自的适用范围
希望同学们呢
在这门课上
能够体会到不同的
工作场景
适合使用不同的工具
希望同学们今后能够
针对手上的问题和任务
来选择合适的工具
那么这个计划呢
第一周主要是入门
一方面是版本控制Git的入门
一方面是Python的入门
第二周呢
会在第一周的基础上
进行Python的科学计算
还有一个可视化的一些教学
到了第三周和第四周呢
我们会换教室
换到这个隔壁的隔壁去
那么到第三周呢
会讲一些关于命令行
基于命令行的
这个数据处理工具
这些工具呢
有些是能直接处理数据的
有些是可以把
各种处理程序
整合起来使用
那么第四周呢
会给大家介绍一些高级的工具
但是这些呢
都会是
主要来介绍一些方法
或者是思想
上课呢
我们的课表上
是周一到周五
我准备调节一下
我们就周一到周四上课
每天下午的三四大节
从1:30上到4:55
那么周五呢
三四大节
这个教室依旧开放
然后我会在这
如果同学们有问题
可以来答疑
是吧
所以说啊
你的星期五
星期六和星期天
就连在一起了
这样你就可以非常自由的
度过几天
你可以自己选择来做什么啊
然后平时会有 office hour
在每天的这个下课之后
周一到周五晚上7点到9点
我会在办公室
比如说备课备明天的课
那么你也可以过来
来这个问问题
或者是
聊天都可以啊
或者是
大家可以用网络学堂的模块
都可以
其实我们那个课
本来也是5周的
是吧
所以说最后一周
我们也把它作为
同学们自由活动的时候
就是前4周上课
好
接下来我跟大家分享一下
在这个实验物理
乃至其他的这个
实证性科学研究中的
数据分析的指导原则
这几个原则呢
会贯穿我们这门课的始终
我会经常提醒大家
某个地方应用了这个原则
第一个原则呢
是“复现”原理
也就是说
无论你做什么样的研究
你的科研成果
一定要能够被你的同行
重复出来
不能说我在这里
这个精细结构常数
是1/137
误差很小
你在上海测得的这个精细结构常数
就是1/141
这不是可复现的原则
不仅在实验条件下
需要可以重复
而且呢
你的这个实验结果
需要记以人类语言的方式
比如说论文
比如说报告
也要以计算机语言的方式
比如说你的程序啊需要公开
这样你的同事
或者同学才可以重复你的结果
这是这个科学研究的
非常基本的精神
那么这个基本精神呢
和可证伪性
在一起
也就是说你的理论
从理论物理上来讲
你不能说
我这个理论正着说和反着说
都是对的啊
这不是科学理论
与可证伪性的这个特征在一起
是区分科学与伪科学的标志
所以今后大家如果在媒体上
看到谁有了什么样的突破和结果
你要先问两个问题
第一个问题是
他所验证的这个结论
是可证伪的吗
这个第二个问题是
它的结果可以被其他人重复吗
这是非常重要的两个原则
我们把它总结为“复现”原则
那么第二个原则呢是
我把它叫做透明原则
就是说我们在处理数据的时候呢
往往不是一蹴而就的
需要经历很多个步骤
那么在这些步骤中呢
经常有一些中间结果啊
我们也不知道它是对的还是错的
结果到最后一步
才知道它是对的还是错的
这是一个非常不好的情况
所以我们理想的状态呢
就是说在数据分析的每一个步骤
它的中间结果都应该是
人类所能理解的
或者是说细心一点
可以理解
都可以被直接阅读
这是一个透明性原则
那么第三个呢是
“一次”原则
或者说叫
“一次且仅一次”原则
这是什么原则呢
也就是说
当我们在
不论是写一个文章
写一个论文或者是报告
还是写一个程序的时候
不要进行
这个复制粘贴的操作
比如说我们有一段程序
那么接下来
我需要对这个程序进行修改
完成一个另一个内容
不要把大块的程序切下来
这叫做自我重复
那么自我重复
有什么样的坏处呢
这个当你发现这部分
需要进行修改的时候
你已经复制到其他地方
不会跟着自动的被修改
那么有的时候你可能忘记了
你已经复制了9个地方
然后你一共改了8个地方
那么可能当这个项目
变得很大的时候
你就非常难找到
这里边产生的错误
所以说一定有意义的信息
都放在一个统一的地方
这个在课上
我们会经常遇到这一点
那么第4点呢
我把它叫做“最佳工具”原则
就是尽量使用比较高级的语言
也就是说
如果你使用一个工具啊
很舒服很得心应手
并且这个工具非常适合
你做的这件事情
那就一定要使用这个工具
然后即使这个工具
和别人的不一样
那么我们想办法
怎么把这些工具
和别人的
联合起来
那么在这种情况下呢
我们就可以在任何
面对任何任务的时候呢
都挑选比较合适的用手的工具
比如说该用锤子的时候
就用锤子
该用这个电锯的时候
就用电锯
这个时候才能
把节省自己的时间
也能够最佳地支持
上面的三个原则
所以说在我看来
目前来讲
我们这门课
会以 Python 为中心
跟大家介绍
数据处理
但是呢
Python 未必永远都是最好的工具
所以我们这门课
不叫 Python 数据处理与科学计算
虽然现在差不多可以这么想
但是呢
我不保证今后几年
还是用 Python 来
进行教学
那么课程的这个评分标准
刚才有同学问
我们在这个课程进行过程中
会以百分制来记分
到最后录入成绩的时候
会给大家转化为等级
那么平时作业呢
大概占70%
平时作业呢
将以这个 Github 发送的形式来组织
随后大家会看到
它是一个
怎么样提交作业
那么平时作业中呢
大部分都是程序自动测试
自动给你评分的
那么还有20%呢
是所谓的白盒测试
我们助教
还有我会
读一下你的程序
然后看一下你的这个 Git commit
是否符合规则啊
看你是否养成良好的习惯
那么大作业呢
会占30%的成绩
默认的大作业的标配
是取材于实验物理的
这个不同方向的场景
我觉得可以覆盖物理学的
目前物理学的方方面面了
但是呢
它也可以由同学自行提出啊
就是如果
有同学说
我不想学物理
我想学别的
那么别的可能也有
数据处理类的任务
或者说我大三之后
想做一些
不在物理系做科研
或者工物系做科研
那么你可以提出自己的大作业
大作业会分两个阶段
分别对应前两周和后两周
那么选两学分的同学
就只完成前半部分就可以了
然后4学分的同学呢
你要完成所有的
大作业的标配
目前我们选了三类
第一类是关于粒子物理实验的
就是去年的
不是去年
上个学期
这个中微子实验数据分析
也是我们的
叫做 Ghost Hunter 排位赛的
课赛结合的部分
我看到在座很多同学
已经参与过这个竞赛
这个竞赛是可以
竞赛的结果啊
是可以充当大作业的
大家也可以
在竞赛的基础上
继续提高
没有参加过竞赛的同学也没关系
在这个网站上
大家可以看到这个物理背景
第二个大作业呢
是关于天体物理的是 Tola
也就是在我们清华校园内
做的微波干涉阵列
进行信源定位
它会放在宿舍楼楼顶
或者是天文台上的台顶
还有这个物理系的房顶
然后定位出
射电的信源
然后这个大作业的目标呢
是对采集到的数据进行分析
对这个信源进行定位
那么第三个大作业是
在这个二维金属材料
用扫描隧道显微镜
进行扫描之后
拿到的数据
我们用这个数据来反推
二维金属的费米面
这三个是都要做还是三选一
三选一
其实都做也没问题
因为
因为这个在座的同学
都是这个物理类的同学嘛
那么大家的这个物理课的进度
应该都差不多
但是对于这个编程课呢
有些同学学的多
有些同学学的少
所以说大家的这个基础
差异比较大
一个是我希望呢这个
之前学的比较多的同学
多帮助一下周围的
基础略微薄弱的同学
然后另一个呢
如果你觉得你的精力太旺盛了
这个实在是
这个上课太简单了
你可以尝试多做几个大作业
那么大作业也有自定义模式
就是刚才是标配啊
如果你想自定义呢
希望你能够在第一周之前
这个给我一周
呃不对
第一周结束之前
就是这个星期天的24点之前
能够给我一个问题的描述
还有学科背景啊
给我一个这个数据输入输出
都是什么样的
然后给我一个评价的评分的标准
你来自己定义评分的标准
然后呢
我会和
助教同学讨论一下
对于这个
你自定义的大作业
我们也可以来进行
就是作为本课程大作业
那么这门课的参考资料呢
我刚才在网络学堂上传了4本书
那么这4本书呢
大致是对应第一周
第二周
第三周和第四周
第一本书
是 Python 这个入门的书籍
第二本书呢
是 Python 
关于 Python 科学计算的
讲义
这位呢
也是 Python 科学计算的
最开始的倡导人
那么第三本书呢
是关于在命令行
如何进行数据处理的
教材
那么第4本书呢
其实主要是应对大作业的
那么这本书
他本来是一本这个计算机系的书
是信息论这个推断
和学习算法
那么在计算机系
上这门课呢
一般这是一个比较难的课
但是呢
因为其中用了很多统计物理的方法
来介绍这个算法
所以说呢
可能物理系的同学
工物系的同学
这个来学习这本书呢
或许会比较
感觉比较友好一些
那么可能同学觉得
非常惊讶
说这门课
我们课一共才一个月
然后这里边随便一本书
拿出来
大概都能讲一年
那么
是不是
是不是这个书太多了呀
我是这样理解的啊
我们
大概会在每周都有一个主题
那么每个主题呢
都有一个最适合的教材
同学们可以有自己的选择
比如说你也可以一本书都不看
那么只是上课完成最基本的部分
这也是可以的
但是呢你可以挑选
你所感兴趣的一本书钻研下去
也没问题
或者说呢
你把这几本书
当成一个字典啊
比如说在做作业
或者上课的时候
参考一下
或者预习的时候
看一下
都没问题
然后还有许多辅助的资料
这个资料呢
是这个自由软件界的
一位教父级的人物
他以这个道家思想
剖析了
在这个 Unix 类的系统中
这个程序设计的优美
和这个永恒性
到底是什么样的
它里面给出了很多
切实的建议
其中我们这门课的
这个透明性原则
就是从这本书来的
还有一些网站啊
比如说这个网站
你可以看到很多例子
这个编程的例子啊
你可以直接把这个例子
拿过来
改写成自己的例子
那么这个网站呢
也是很适合初学者
里面有
视频教程
那么还有一门课呢
是
Linux 的入门课
这门课主要是讲授了
这个命令行的基本操作
可以供大家参考
如果同学们发现了
更好的学习资源呢
大家可以跟我提出来
或者是在网络学堂
跟同学们互相分享
教学团队是这样的
首先是我
这4周都会给大家进行
课堂的教学
然后那个助教
有这个陈嘉杰同学
是大家同龄的
也是七字班
在计算机系
然后张爱强同学
张爱强同学是工物系
大四的大家的学长
然后还有陈晟祺同学
计算机系六字班
大家可以看到
助教都是
同学们的同龄人啊
虽然这个计算机的同学
在这门课上
可以做大家助教
但是大家可以在物理系
物理的物理课上
做他们的助教
所以希望这个
同学们和助教也能有
好的非常亲切的沟通了
那么
这门课的顾问呢
有很多物理系的
物理系的学弟
大部分都是物理系的学弟
此外呢
我们这门课
还要设小助教的岗位
希望那个同学们
如果你程序设计基础
学的很好的同学
或者是有很多基础
或者是参加过这个信息学竞赛
即使没有竞赛也没有问题
如果你觉得
对这个数据处理
或者是实验物理
你很有信心
希望同学们
能够自荐成为小助教
目前我已经收到
4位同学的
这个自荐申请
希望大家继续踊跃报名
争取今天晚上
24点之前
大家能够再自荐一轮
好吧
接下来我来介绍一下
Python
我们这门课呢
会主要的
把主要的内容
围绕于 Python 进行
但是呢我们这门课又不是
Python 程序设计
所以说呢
在这门课的教学里边啊
如果同学这个完全不了解
Python 的话
一方面是在课上
循序渐进地做一些练习
另一方面
可以参考
我们的这个第一本教材
那个 “Think Python”
那么 Python 呢
它是一门解释型的语言
它相对于这个编译型的语言
比如说
 C 或者 C++
它更容易调试一些
所以说对于我们来对这个语言
进行
对这个程序
进行多方面的查看的时候
会更方便
那么对于
非计算机专业的同学来说呢
有这样一门语言就比较容易
这个日常会比较舒服
那么 Python呢
它这个语法风格比较简明
即使这个外行
也比较容易读懂
就是 Python 它的这个语法
很多都是英文单词
那么你看了这个语言
即使你从来都没学过 Python
你看了一下
这个语言感觉就像
就像这个算法书里边的
这种伪代码一样啊
读起来
还是比较容易的
这样就有了一个推论
也就是说这个 Python
一般书写的效率比较高
也就是说
你花在编程序的时间会少一些
你可以快速的写出
还不是那么差的程序
那么如果你要进一步优化呢
可能要花很多的时间
但是对于我们大部分的
手边的工作
即使是科研的
非常硬核的工作
那么你即使写出了一个还差不多的程序
它就已经够用了
因为计算机的性能发展
实在是太快了
这个我们人类是跟不上
这个速度
所以很多时候
5年前
我们还要进行不断的优化
到5年之后
我们可能写一个差不多的程序
那么它就已经可以胜任
而拍摄呢
正好可以适应这样的趋势
此外呢
Python 它可以直接调用很多语言的库
在这个我们学物理课的时候
会发现
特别计算物理的很多时候
会有这个 Fortran 的程序
那么
或者是 C 的程序
或者是如果大家做统计分析
或者可以可能会用到 R 的程序
那么在这些语言里呢
有可能大家组成一个团队
可能有的
有的同学就喜欢这个语言
有的同学喜欢另一个语言
但是 Pyhon 呢
可以作为一个
他们之间传唤的媒介
或者叫胶水语言
就是可以把各种程序
粘合在一起
Python 可以
调用很多程序的
这个库
所以说即使这个库是其他程序写的
我们就可以
写一个 Python 程序
来调用它的功能
那么它就非常易于
和已经有的工具啊进行组合了
而且呢它可以比较有效地
防止这个
团队分工协作
防止大家这个打架
那么呢
它还大大丰富了
Python 生态系统的功能
这有一个例子
比如说刚才我说 Python 的程序
它可能是差不多的程序
但可能不是优化的最好的
那如果真的
我们在实际的工作中
遇到了一个不优化不行的地方
可能用只用 Python 
已经使出了浑身解数
还是优化不了
那么我们可以把
这个部分替换成 Fortran
替换成 C 的
那么也可以
进一步优化
这个程序的运行效率
所以说一般来说
我们的策略是这样
面对一个任务
我们先写出了一个正确的程序
可以运行的
然后我们去看
到底哪个地方
占用的时间最多
那么对于那个占用时间最多的部分
进行有针对性的优化
如果优化到了极致
还是不行的话
那么就使用其他的语言
来进行替代
所以说
这是一个
衔接地非常
细腻比较顺滑的一个过程
它可以这个渐进地
进行优化
而不是说
要么就行
要么就不行
这个不行
就会卡死的这种状态
所以说这对团队协作
有些时候这些细节
就决定了这个团队协作的成败
所以它符合 是我们的最佳工具
此外呢
比如说相对于 Matlab
或者是相对于其他的
专门的科学计算的语言
Python 它又是一个通用的语言
而它的功能
不局限于这个科学计算
和科学研究
它其实在我们生活中的
方方面面
都可以用的
它的这个语言的库
也有很多
我们其实可以完成非常多
其他的功能
所以由于传统这些优点
所以它最近些年来
在这个科学计算的领域
得到了非常广泛的应用
那么我们嗯将要考虑的
这个第二个环境呢
叫做 POSIX 环境
POSIX 环境可能
对于同学们来说
比 Python 会更加陌生一些
它是 “Portable Operating System Interface” 的缩写
它其实是关于计算机操作系统的
国际标准
那么什么是操作系统
操作系统
就是比如说我们
操作系统
这种平时在计算机上运行的这个
基本系统
它是在进行硬件
和我们这个人类之间
建立的这个这个桥梁
这个操作系统呢
对 它是有国际标准的
那么在这样的国际标准下呢
如果我们写了一个
科学计算的一个程序
我们有了一个科学的成果
我们如果在这个环境下
可以实现这个计算的
那么全世界各地的其他人
他们不管用什么操作系统
如果是有这样的环境的话
他们都可以比较
顺利的复现出我们的结果
但是如果说我们这个操作系统
只能是在
某一个
编译器
某一个版本下
才能得出正确的结果
只要换了一个地方
换了一台电脑
是得不到正确的结果
这就
不是好的
科学研究
所以说呢
在我们学习的过程中呢
我们会尽量的使用
这样一个国际通用的环境
让大家在这样通用的环境中
学习这个环境中
比较好用的工具
来建立一个工具箱
那满足这个标准操作系统呢
一方面是这个 GNU/Linux
然后一方面呢
是这个苹果的 mac OS 满足的标准
或者是其他的类 Unix 系统
那么 Microsoft 微软的这个
windows 呢
它本身其实是不满足这个标准
所以说
我们会知道
可能有些程序
在 Windows 10 上的程序
到了Windows xp
或者是 Windows 7
它就不能运行了
其中某些原因
是因为它没有一个标准
那么但是呢
我们可以通过使用以下的扩展
来使 Windows 支持这个
POSIX 环境
比如说 Windows Subsystem for Linnux
或者是通过虚拟机
安装一个 Linux 操作系统
这个我们会在
下节课仔细地
带领大家去做
大概在我们如果需要这个环境呢
在座的有哪些同学
已经在使用这个 GNU/Linux 系统
这些同学你们
这门课的准备的工具
应该都已经齐了
所以到了下节课
请你帮助一下周围的同学
好吧
然后那么
还有哪些同学
是这个 mac 的用户
噢大概有几个 mac 的用户
然后
那个陈嘉杰同学
也是 mac 用户
或者你如果遇到困难
可以
找陈嘉杰同学啊
然后那剩下同学们
都是 windows 的用户
我们一会儿
会先尝试安装这个 WSL 
然后第二点
第二点我们先去掉
接着尝试安装这个虚拟机
先把这门课
所要的程序环境
建立起来
好吧
我们先下课休息5分钟时间
然后下节课
我们开始实战
好
谢谢大家
如果大家是苹果或者 Ubuntu 系统的话
就不用跟着这个操作了啊
首先我们稍微提一下这个
Windows 下的 Linux 子系统 到底是怎么一回事
然后就是你必须是一个 Win10 的系统
如果没有的话
你可以采取其他的虚拟化的方式
比如说是 VirtualBox 之后会讲到
然后或者是你可以装一个 Linux 双系统
然后它其实就是一个
可以在 Windows 上
直接运行 Linux 命令的一个工具
那么这个 Linux 子系统
在今年6月份左右
推出了第二版
它采用了新的系统架构
它现在是可以是说
真的 Linux 内核
如果你现在必须是你的系统
需要升级到这个版本的话
大家可以
按照这个操作去查看一下
就在cmd下输入这个 msinfo 
我现在先教大家几个命令
大家电脑上应该有一个 Win键
按一下 Win+R 键
大家按一下 Win+R 键
会出现下面这个界面啊
有没有看到
就是有一个运行的这个界面
然后输入 cmd
这个就是运行的一个工具
输入 cmd 然后按回车键
大家有没有跟上
按下回车键之后
我们会进入 Windows 提供
的一个命令行工具
在下面我们就可以输入
刚才我们提到的这个命令 msinfo
后面应该加上 32
然后大家会看到一个微软提供的一个
查看它系统信息的一个界面
我们也看到
我现在的版本
是 Win8 的8.1
然后我的版本号是900
显然我的电脑
无法安装这个 WSL
大家确认一下自己这个
刚才你的输的是什么
msinfo 
microsoft 的 info
这一步就是带大家熟悉一下
Cmd的操作
如果大家的版本号
是这个版本号
或者这个版本号
以上的话
大家就可以使用这个 
Linux 子系统的第二个版本
不过我觉得
如果大家真的是
这个版本号的话
应该不需要再
就在这里
大家输入
刚才命令会弹出这个窗口的
然后你可以看到
你自己的系统版本
以及最高的系统版本号
这个不是重要
这个不重要不重要
噢
这个不重要
我们就先尝试使用一下
Windows 下的命令
然后我们下面就具体讲一下
到底如何去安装呢
其实安装在 win10 下安装
Linux 子系统非常简单
你只需要 点击x3
首先第一步
你需要启动windows的
Windows 的功能
Windows 子系统的 Linux
下面你需要
用命令行
我们下面再打开这个命令行
然后你在里面输入 “control”
打开你的控制面板
你也可以通过其他的方式打开
可以点击打开
然后你选择那个程序
下面有程序以后呢
前面有这里会有一个
管理员这个标志
然后你下面写的是
启用或关闭 Windows 功能
然后点击它
大家现在有没有跟上
然后你会在下面发现一个
我就发现一个这个
这一行字 适用于 Linux 的 windows 子系统
然后把勾选上
好勾选之后完成之后
会提示你需要重启
大家就重启一下
反正是月初嘛
反正大家流量也大
有没有问题
这几部分大家都有点击
控制面板的打开
大家也可以通过 GUI 的方式去打开
如果大家已经重启完了之后
我们就可以进入第二步了
不着急不着急
现在大家在电脑有没有重启过
如果重启完成之后
我们就做第二次点击
首先你找到那个
Windows 下的应用商店
那个 Windows 的应用商店
不小心被我卸了
然后我就再也装不上去了
我该怎么办
重装系统
这个应该是可以下载
我们之后再解决这个是特例
然后你就先看一下
后面的操作
正常的程序
那现在先去打开你的应用商店
如果你找不到的话
你可以在你的 win10 下面一个放大
你可以使用它的搜索功能
输入应用商店
即可
把你的应用商店打开
打开应用商店之后
大家可以输入 WSL
或者是 Linux
大家有没有搜索完成
搜索完了之后
会出现这种在 Windows 下运行的 Linux 子系统
就在应用商店里面
有个搜索啊搜索
你可以输入 Linux
首先你需要打开你的应用商店
然后在搜索里面
最后你们到这一步的下面的
我看有的同学
应该已经打开了这个界面
然后下面会提供不少
Linux 发行版
如果你们没有什么特别爱好
比如说什么 Hack 之类的兴趣
就可以选 Ubuntu
或者左边的这个操作系统
目前我这个界面上
它上面只有 Ubuntu
还有这个其他的
不过大家的
界面上应该有很多吧
如果没有特别爱好
就选择左边的这个 Ubuntu
然后大家点击之后即可安装
上面有安装操作选项
大家就可以简单点击鼠标即可
大家如果没有特别爱好的话
就选择 Ubuntu
上面写的 Ubuntu 的话
就是左边的第一个
你可以看到上面
有其他的上面写的都有
英文
你自己看一下
就这个就这个英文单词
目前推荐这两个
一个是 Debian 一个是 Ubuntu
安装可能需要一点时间
大家可以耐心等待一下
这一步有没有大家会有注册的
因为我知道有些人提供了
windows 更新的话
在这里不下载的时候不会出错
啊没有出错的
没有出错在位置啊
就是在应用商店
这个 Download Linux 子系统
大家有没有出错的
没有卡住的同学
我卡住了
大家在那个应用商店里面
输入 Linux 系统
然后搜索
刚才在下面的同学告诉我说
应用商店
应用商店的存储位置
大家不要随便改
可能也应该
也没有几个人去改吧
现在已经应该有一部分同学已经
安装好
已经到了这个系统
然后启动它下面一步操作
就是很简单
就初始化
你们需要点击一下
这个呃 Ubuntu
或者是左边的图标
然后去初始化你的用户
名字及密码
如果你把这一步做完了之后
整个过程基本都已经完成了
刚才发现同学们
设 passwd 时候遇到几个迷惑
这一点是当它提示你
输入 passwd 的时候
当你看到这个提示的时候
然后你不管输入什么字母
它都没有反应它是隐藏起来的
然后这个可能大家都比较迷惑啊
实际上是它为了安全起见
比如说后面有一个人偷看你
输入 passwd 的时候
如果有很多 * 的话
那么后面那个人就能记住
你 passwd 的有多少位
这样对于他破解 passwd 的时候
他的组合数就变少了
所以它出于这种考虑
你不管输什么的时候
他都没有反应
然后为了保险起见
但是我们在这个界面下
也不知道到底输没输进去
所以说它才会让你在这里重新再写一遍
必须是在两次
输得完全一样的这个密码才能设对
有哪些同学还卡在应用商店里
有哪些同学还卡在这个设置密码里面
刚才我发现大家有的密码是
不一致的
再可以进入系统
现在如果大家已经进入了这个
那个界面之后
我们操作几个
比较好的 Linux 命令
然后去修改一下
软件源
这个要改吗
非常麻烦
是比较麻烦你要改一下
还有同学喊的密码是什么
大家注意一下这个
POSIX 的习惯哈
有同学输两次密码不一样的时候
会出现这样一个提示
就是说你的密码可以视察
然后会出现这个
你是重新输一遍密码
还是不重新输
那么如果你先打了回车的话
看到遇到这个 Y 小写的大写
意味着你如果默认情况下
就会默认你输入
所以有些同学直接在这里输了
拿了一个回车的话
那么系统还默认你输入了
就是你不想设置密码
这个时候密码就可以脱掉
所以当你看到这个提示的时候
在这里 在输入回车之前的时候
那现在装完了
我现在已经把这个PPT上传上去了 
如果大家有一部分同学没有跟上来的话
可以参考
我们先来讲下面一部分
修改很多软件源
这一步你其实是可以不做的
但是如果不去修改你的软件源
你在做下载操作
就是从你的包管理持续下载的话
你的速度会异常缓慢
几乎就是几个数量级的差别
我们现在就讲一下
怎么去修改一下这个东西
大家如果跟得上的话
我们就先做这个操作
大家现在应该已经看到一个
现在大家如果安装完成之后
应该看到一个类似我这个界面
的命令行这边
然后现在就可以先做一些基本的命令行操作
list 操作
这个操作会列出下面的一些
基本的文件
但是我们现在就是要去修改
某一个
文件夹下的
一个文件
我们现在先去到它的目录下
如果你现在
是 Ubuntu 或者 Debian 的话
我们现在注意到一个
我们大家现在输入第一个
这个命令
然后进入到你这个
配置文件的所在目录之后
然后大家输入
下面这个命令把你的文件给备份一下
需要修改下
这个文件就行了
没有权限没有的
噢对对对
我忘记了一个问题
大家可以输入 sudo
sudo 是
大家在这个命令前面带上去
大家现在有什么问题
大家在输入命令的时候
几个 cd 后面是有空格的
这个 cd 以及 cp 都是命令集中的内置命令
大家不要把后面的东西都连在一起了
大家在做完这个操作命令之后
会把你之前的那个 sources.list
给改名 文件名给改写成新的文件名
也就是大家平常在 Windows 下做的
我出错了 cp的话
应该是 copy
是从这儿复制操作
做完这个
就相当于复制了一套文件
然后大家在下面
就把这个文件
用给打开
就照抄这个就行了
这个要我有问题 改完了
都拷过了
这一步已经做到了吗
这一步做完了之后
我们就可以看到这个
这个ppt
已经上传到网络学堂了
所以大家可以
直接下载下来
你现在已经把这个命令都输完了是吗
好OK
如果你输完之后
你会出现这样的界面
里面是一些的地址
然后现在我们要去修改它
现在大家完成
这这三步操作的有多少
那个出来的就是一些颜色
特别奇怪的
对
那都是什么
语法高亮
是我这个差不多
但是我这个是
已经改变了自己的一个操作系统
如果大家现在已经做完这个操作
现在就根据自己的操作系统
去选择你所需要修改的部分
因为大家之前装的
应该是不太一样的
有可能选择了 Debian
有可能选择 Ubuntu
或者有选择什么 Kali 的
这个地方我们就需要
按照不同的系统去修改它们
我这里写的是
只针对 Ubuntu
18.04的
这个修改方案
然后我们如果去看其他的修改方法
我们需要登录一下 tuna 的那个官网
修改软件源的话
会使大家的下载速度
提高几个数量级
我们现在去登陆 tuna 的官网
大家可以输入 tuna.tsinghua.edu.cn
在你的浏览器里面输入
这个协会之后
老师可能会介绍一下
然后我们现在点开一下开源镜像站
点击这个地方
然后我们在下面找到使用帮助
然后在左侧的侧栏
会有不同的系统
比如说 Ubntu 
以及 Debian 之类的
我们现在以 Ubuntu 为例
这个地方你可以选择版本
然后就把这样的粘贴复制进去
覆盖你之前的那个
用 vim 编辑打开的 sources.list 内容
刚才用了vim编辑器 还是太专业了
所以那个大家可以先我们换一个
稍微简单一点的编辑器
大家可以在这个
输入 “q!” 把这个文件给退出来
把这个文件退出来
大家可以先按几下
Esc键退出编辑模式
刚才如果知道这种情况里面
然后好像
好像按什么东西比较奇怪
这个东西比较奇怪
我们可以在
我们摁一下 “:”
然后 “q!”
可以退出这种模式
然后我们的目标是什么样的呢
刚才我们拿到了一个文件
这个文件里面有一部分那个
有一部分字符串
是这样一个地址
然后我们要把它换成
这个清华的地址
mirrors.tuna.tsinghua.edu.cn
我们的目标是这样
我们一会儿可以
各种方法都可以替换
刚才的 vim 是一种方法
我所以带着大家用
另一个编辑器来替换
也可以直接在这个命令行里替换
咱们先那个下课休息一会吧
然后如果有同学
想马上知道答案的话
可以来
课下能讨论一下
然后我们3:20继续上课
刚才课下的时候
还是看到有很多同学
卡在了更早的位置
然后希望你如果遇到了困难
然后及时地提出
因为我们本来也是假期
可能
这个进展比较快的同学
进展比较快的同学
他们有很多事情可以干
是吧
所以说大家不要害羞
就是如果有那个
比较早的
就卡住的同学
一定要马上提出来
因为我们每一步
都是依赖前一步的
然后如果没有到的话
可能是跟不上
然后现在还有同学
没有到这一步了吗
我们先来一轮
然后如果卡在前一步的同学
大家也不用着急
一会儿我们还会
我还会今天课下
再来一轮
我们要做的目标是什么呢
就是我们刚刚在 WSL 里边
安装了 Ubuntu
这 Ubuntu 它默认
它默认系统的更新啊
下载啊
或者安装啊
都是从这个网站下的
这网站一般都是至少是校外
有的时候会走到国外去
这样的话
同学去更新系统
就要花很多的这个国际的流量
那么我们的目标呢
是在这个目录下的这个 sources.list 的这个文件里面
把这个字符串替换成这个
字符串
那么这种方法呢
一共有很多很多
我给大家讲一个
编辑器的方法
我们打 “sudo”
sudo 是
取得最高权限
nano 是这个编辑器的名字
nano sources.list
这里面已经是这样啊
然后我们点 Ctrl-W 
我来把这个每步都写上
这个字符代表 Ctrl
Ctrl-W 是搜索
我们可以在这里边
这个地方
看到有这个搜索来
我们就把这个字符串打进去
注意现在都要敲回车
Ctrl-W然后输
输入这个字符串
然后这个时候呢
再按 Ctrl-R
Ctrl-R
我们看到这个 search 后面
有跟 replace
它是查找替换的意思
当它出现了 search (to replace)
这个提示之后呢
我们再按回车
这时候会出现一个 replace with
replace 这个机制
这时候我们输入这个 tuna 的
不是很满意
tuna 的
url 地址
mirrors.tuna.tsinghua.edu.cn
然后回车
我这里面
因为之前没有这个字符串
我先把这个字符串先换过去
我先做一个反向操作
给大家展示一下
按照这4个步骤
我们再重新做一遍
首先是 Ctrl-W 
然后输入我们要替换的字符串
就是这个
这个时候按回车
就是说我们是否替换
然后我们按
下面这个提示
Ctrl-A
大写 A
就可以把这些全部的替换
替换完之后
我们按 Ctrl-O 来把它保存
我们看到这个提示说
已经写入了4行文件了
然后我们看现在这个 Exit 就是 Ctrl-X
怎么验证它是否成功
我们 sudo 可以 update
这一步替换不成功的同学举手
同学们没替换成功的
按照这几个步骤
替换字符串 大家不是太适应啊
但是这是我们在很多处理数据的
信息中比较常用的操作
这个数据很大
但是跟这个数据相关
有一些
有一些说明
这个数据的文本里面
这个时候查找这块还是
咱们现在用的
是用一个编辑器来
在这里面呢
但是虽然它比较朴素
那么现在这个因为都做完了
后4那个IP
那个没做完的同学举手
失败的问题
没做完那个
做完的同学可以
做一些其他的事情
已经替换成功的同学
看一下你旁边的同学
有没有替换成功
然后帮助一下周围的同学
